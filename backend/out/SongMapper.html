<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Class: SongMapper</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Class: SongMapper</h1>

    




<section>

<header>
    
        <h2><span class="attribs"><span class="type-signature"></span></span>SongMapper<span class="signature">()</span><span class="type-signature"> &rarr; {null}</span></h2>
        
            <div class="class-description">Receives an array of object users from the users collection, and map the frequency of each song inside all the users.
A very common and efficient problem solving algorithm for frequency matching.

I chose this solution for two reasons. As I did NOT needed to know any order from votes, there is no point in using
a list or array and also because representing each song primarily by their id, makes the backend services a lot
lighter, since the 5 song ID's of each user and their nickname will be provided by the frontend solution, we don't
need to parse the JSON on the backend AT ALL. All we need to do is map and return these id's to the
frontend interface. This seemed like the best solution to me because: The frontend NEEDS the names and other
information of each song to display it to users. So:

1-) Either I'd parse the JSON in the backend and return it to the frontend interface as chunks of data for every request.
2-) Or I'd parse the JSON only once on the frontend interface and persist only an unique identifier for each user
and song (nickname and array of 5 favorite songs)

Both solutions have their up and downside:
1- DOWN) Makes the service requires more processing to parse and map JSON datas to each request.
1- UP) Makes the data more secure and actually reliable.

2- DOWN) Makes the data to be processed in both services of this application open to frontend exploits. That means
some user can breakpoint the React interface to intercept the http request and send us crazy hash ids that will never
match the JSON data in the React interface, either (a) causing a crash in the screen after the return of the request
or (b) possibly manipulating the process final result. The problem (a) can be easily fixed with a simple map access
in the React application, but for (b) I couldn't think of a fix, but there is not much harm that can be done in this
specific service, since the Admin route process does not persist its data to the database, making each request unique.

My decision:

Not only this specific Admin service but also the Submit service would need to parse with every request,
chunks of JSON information, and considering that the Submit service needed to be scalable, I decided to remove this
backend flow altogether.</div>
        
    
</header>

<article>
    <div class="container-overview">
    
        

    
    <h2>Constructor</h2>
    

    
    <h4 class="name" id="SongMapper"><span class="type-signature"></span>new SongMapper<span class="signature">()</span><span class="type-signature"> &rarr; {null}</span></h4>
    

    















    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>map</code></td>
            

            <td class="type">
            
                
<span class="param-type">_</span>


            
            </td>

            

            

            <td class="description last">An object literal to represent our hashMap data structure.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>users</code></td>
            

            <td class="type">
            
                
<span class="param-type">users</span>


            
            </td>

            

            

            <td class="description last">Users MongoDB object {name: <string>, songs: [<string>songId], _id: <MongoObject>}.</td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="admin_src_classes_SongMapper.js.html">admin/src/classes/SongMapper.js</a>, <a href="admin_src_classes_SongMapper.js.html#line38">line 38</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">null</span>


    </dd>
</dl>

    





    
    </div>

    

    

    

    

    

    

    

    

    

    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-winston.html">winston</a></li></ul><h3>Classes</h3><ul><li><a href="module.exports.html">exports</a></li><li><a href="Rank.html">Rank</a></li><li><a href="SongMapper.html">SongMapper</a></li><li><a href="Top.html">Top</a></li></ul><h3>Global</h3><ul><li><a href="global.html#User">User</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.3</a> on Mon Dec 16 2019 00:50:20 GMT-0300 (GMT-03:00)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>